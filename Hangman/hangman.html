<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Document</title>
  </head>
  <body>
    <div class="container">
      <div id="game">
        Press any letter to start playing
        <div id="score">Current Score:</div>
        <div class="wins">wins:</div>
        <div class="currentWins">0</div>
        <div class="losses">losses:</div>
        <div class="currentLosses">0</div>
        <div id="lettersGuessed">letters guessed:</div>
        <div id="lettersGuessedByUser"></div>
        <div class="tries">You have this remaining tries:</div>
        <div id="currentTries">6</div>
        <div id="currentWord">Current word</div>
        
      </div>
    </div>
    <script>
      //words array
      const computerBrands = ["apple", "dell", "asus", "lenovo", "alienware"];
      //sort the words and select a random one from array
      const randomBrand =
        computerBrands[Math.floor(Math.random() * computerBrands.length)];
      //split the word into an array of characters
      const wordArray = randomBrand.split("");
      //display the word as _ _ _ _ _
      const progressWord = [];
      for (let i = 0; i < wordArray.length; i++) progressWord.push("_");
      // declaring score variables
      let tries = 6;
      let wins = 0;
      let losses = 0;
      const guessedLetters = [];

    
      //listening to user input
      document.onkeyup = function(event) {
        //listen to user input
        var validChoices = [
          "a",
          "b",
          "c",
          "d",
          "e",
          "f",
          "g",
          "h",
          "i",
          "j",
          "k",
          "l",
          "m",
          "n",
          "o",
          "p",
          "q",
          "r",
          "s",
          "t",
          "u",
          "v",
          "w",
          "x",
          "y",
          "z"
        ];
        let choiceIsValid = false;

        let userInput = event.key;
        let userChoice = userInput.toLowerCase();

        //validate letter input
        for (var j = 0; j < validChoices.length; j++) {
          if (validChoices[j] === userChoice) {
            choiceIsValid = true;
            break;
          }
        }
        //alert the user that the value they inserted is not a letter
        if (choiceIsValid === false){
           alert("your choice is not valid")
        };

        //reveal as the user adds a correct answer
        for (var k = 0; k < randomBrand.length; k++) {

          if (randomBrand[k] === userChoice) {
            progressWord[k] = userChoice;
            // guessedLetters.push(userChoice);


            //!! TODO this is not working trying to display all the current contents of the array 
            // to display all the letters that were already picked

            // guessedLetters.forEach(letter => document.getElementById("lettersGuessedByUser").innerHTML = letter);
          } else {
            //this displays the tries and checks to see if the game is over then it refreshes
            document.getElementById("currentTries").innerHTML = tries--;
            if(tries === -1){
              alert("you lose");
              window.location.reload();
            }
            break;
          }
        }
        //show current word progress THIS MUST BE AT THE END
        document.getElementById("currentWord").innerHTML = progressWord.join(
          " "
        );
        if (wordArray === progressWord){
        alert("you win!")
        window.location.reload();
      }
      };
      //remaining tries
      //Display letters guessed
      //Display scores wins and losses
      //automatic next word when done
    </script>
  </body>
</html>
